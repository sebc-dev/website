#!/usr/bin/env sh
. "$(dirname "$0")/_/h"

echo "ğŸ§ª Running pre-push tests..."

# Set environment variables for the quality check script
export CLAUDE_PROJECT_DIR="$(pwd)"
export CLAUDE_FILE_PATHS=""  # Empty for pre-push, will run all tests

# Run unit tests (fast)
echo "ğŸ”¬ Running unit tests..."
pnpm test:run || {
  echo "âŒ Unit tests failed"
  echo "ğŸ’¡ Fix failing tests or use 'git push --no-verify' to skip (not recommended)"
  exit 1
}

echo "âœ… Pre-push checks passed!"

